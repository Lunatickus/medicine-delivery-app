"use strict";(self.webpackChunkmedicine_delivery_app=self.webpackChunkmedicine_delivery_app||[]).push([[938],{58:(e,n,a)=>{a.r(n),a.d(n,{default:()=>v});var t,r=a(43),i=a(528),s=a(197);const o=s.Ay.div(t||(t=(0,i.A)(["\ndisplay: flex;\ngap: 30px;\n  width: 650px;\n  height: 350px;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 10px;\n\n  .cart-list-item {\n    width: 350px;\n    height: auto;\n    display: block;\n  }\n\n  .item-content-wrapper {\n    width: 100%;\n    text-align: center;\n    padding: 60px 10px;\n  }\n\n  .item-title {\n    font-size: 28px;\n    margin-bottom: 10px;\n  }\n\n  .item-price {\n    font-size: 20px;\n    margin-bottom: 30px;\n  }\n\n  .item-amount {\n    width: 100%;\n    height: 40px;\n    font-size: 20px;\n    border-radius: 10px;\n    text-align: center;\n  }\n"])));var l=a(579);const d=e=>{let{medicine:n,changeAmount:a}=e;const{image:t,name:i,price:s,amount:d}=n,[c,p]=(0,r.useState)(s);return(0,l.jsxs)(o,{children:[(0,l.jsx)("img",{src:t,alt:"medicine",className:"cart-list-item"}),(0,l.jsxs)("div",{className:"item-content-wrapper",children:[(0,l.jsx)("p",{className:"item-title",children:i}),(0,l.jsxs)("p",{className:"item-price",children:["Price: ",c]}),(0,l.jsx)("input",{type:"number",min:"1",max:"10",className:"item-amount",value:d,onChange:e=>{p(e.target.value*s),n.amount=e.target.value,a()}})]})]})};var c;const p=s.Ay.ul(c||(c=(0,i.A)(["\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 20px;\n  width: 900px;\n  height: 500px;\n  overflow: auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 20px;\n"]))),m=e=>{let{medicines:n,changeAmount:a}=e;return(0,l.jsx)(p,{children:n.map((e=>(0,l.jsx)(d,{medicine:e,changeAmount:a},e._id)))})};var u,x=a(969),h=a(497),g=a(196);const f=s.Ay.div(u||(u=(0,i.A)(["\n  .order-form-wrapper {\n    display: flex;\n    gap: 20px;\n    margin-bottom: 20px;\n  }\n\n  .order-form {\n    border: 1px solid black;\n    border-radius: 10px;\n    padding: 20px;\n    width: 700px;\n    height: 500px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 40px;\n  }\n\n  .order-form-label {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    font-size: 18px;\n  }\n\n  .order-form-input {\n    width: 400px;\n    font-size: 18px;\n    text-align: center;\n    padding: 8px;\n    border-radius: 10px;\n  }\n\n  .order-btn-wrapper {\n    display: flex;\n    justify-content: end;\n    align-items: center;\n    gap: 400px;\n  }\n\n  .order-total-price {\n    font-size: 28px;\n  }\n\n  .order-submit-btn {\n    font-size: 28px;\n    background-color: transparent;\n    padding: 10px 20px;\n    border-radius: 10px;\n    margin-right: 20px;\n  }\n"]))),b=e=>{let{hideContent:n}=e;const[a,t]=(0,r.useState)((()=>{var e;return null!==(e=JSON.parse(window.localStorage.getItem(h.A)))&&void 0!==e?e:[]})),[i,s]=(0,r.useState)(0),[o,d]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),[u,b]=(0,r.useState)(""),[v,y]=(0,r.useState)("");(0,r.useEffect)((()=>{const e=a.map((e=>e.price*e.amount)).reduce(((e,n)=>e+n),0);s(e)}),[a]);return(0,l.jsxs)(f,{children:[(0,l.jsxs)("div",{className:"order-form-wrapper",children:[(0,l.jsxs)("form",{className:"order-form",children:[(0,l.jsxs)("label",{className:"order-form-label",children:[(0,l.jsx)("span",{children:"Name: "}),(0,l.jsx)("input",{type:"text",name:"name",className:"order-form-input",required:!0,value:o,onChange:e=>d(e.target.value)})]}),(0,l.jsxs)("label",{className:"order-form-label",children:[(0,l.jsx)("span",{children:"Email: "}),(0,l.jsx)("input",{type:"email",name:"email",className:"order-form-input",required:!0,value:c,onChange:e=>p(e.target.value)})]}),(0,l.jsxs)("label",{className:"order-form-label",children:[(0,l.jsx)("span",{children:"Phone: "}),(0,l.jsx)("input",{type:"tel",name:"phone",className:"order-form-input",required:!0,value:u,onChange:e=>b(e.target.value)})]}),(0,l.jsxs)("label",{className:"order-form-label",children:[(0,l.jsx)("span",{children:"Address: "}),(0,l.jsx)("input",{type:"text",name:"address",className:"order-form-input",required:!0,value:v,onChange:e=>y(e.target.value)})]})]}),(0,l.jsx)(m,{medicines:a,changeAmount:()=>{window.localStorage.setItem(h.A,JSON.stringify(a)),t([...a])}})]}),(0,l.jsxs)("div",{className:"order-btn-wrapper",children:[(0,l.jsxs)("p",{className:"order-total-price",children:["Total price: ",i]}),(0,l.jsx)("button",{className:"order-submit-btn",type:"button",onClick:()=>{o?c?u?v?((0,x.bV)({name:o,email:c,phone:u,address:v,medicines:a,totalPrice:i}),t([]),window.localStorage.removeItem(h.A),n(),(0,g.t)("Thanks for your order"),d(""),p(""),b(""),y("")):(0,g.K)("Address is required field"):(0,g.K)("Phone is required field"):(0,g.K)("Email is required field"):(0,g.K)("Name is required field")},children:"Submit"})]})]})},v=()=>{const[e,n]=(0,r.useState)((()=>{var e;return null!==(e=JSON.parse(window.localStorage.getItem(h.A)))&&void 0!==e?e:[]}));return(0,l.jsx)("main",{children:0===e.length?(0,l.jsx)("h2",{children:"Please choose medicine"}):(0,l.jsx)(b,{hideContent:()=>{n([])}})})}},969:(e,n,a)=>{a.d(n,{l2:()=>o,N7:()=>r,Z_:()=>i,bV:()=>s});var t=a(154);t.A.defaults.baseURL="https://medicine-delivery-app.cyclic.app/";const r=async()=>{try{const{data:e}=await t.A.get("/api/medicines");return e.data}catch(e){console.log(e.message)}},i=async(e,n,a)=>{let r="shop=".concat(e);n&&(r+="&sortByPrice=asc"),a&&(r+="&sortByDate=asc");try{const{data:e}=await t.A.get("/api/medicines/search?".concat(r));return(i=e.data).sort(((e,n)=>e.favorite===n.favorite?0:e.favorite?-1:1)),i}catch(s){console.log(s.message)}var i},s=async e=>{try{const{data:n}=await t.A.post("/api/orders",e);return n.data}catch(n){console.log(n.message)}},o=async(e,n)=>{try{const{data:a}=await t.A.patch("/api/medicines/".concat(e,"/favorite"),{favorite:"".concat(n)});return a.data}catch(a){console.log(a.message)}}},497:(e,n,a)=>{a.d(n,{A:()=>t});const t="medicines"},196:(e,n,a)=>{a.d(n,{K:()=>s,t:()=>i});var t=a(401);a(88);const r={position:"top-center",autoClose:3e3},i=e=>t.oR.success(e,r),s=e=>t.oR.error(e,r)}}]);
//# sourceMappingURL=938.5157d321.chunk.js.map