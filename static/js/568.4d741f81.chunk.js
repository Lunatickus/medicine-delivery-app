"use strict";(self.webpackChunkmedicine_delivery_app=self.webpackChunkmedicine_delivery_app||[]).push([[568],{540:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var r,a=n(528),i=n(197);const o=i.Ay.form(r||(r=(0,a.A)(["\n  margin-bottom: 20px;\n  font-size: 20px;\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n"])));var s=n(579);const l=e=>{let{changeFilter:t,priceFilter:n,dateFilter:r,resetFilter:a}=e;return(0,s.jsxs)(o,{children:[(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",onChange:t,name:"price",checked:n}),(0,s.jsx)("span",{children:"Sort by price"})]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",onChange:t,name:"date",checked:r}),(0,s.jsx)("span",{children:"Sort by date added"})]}),(0,s.jsx)("button",{type:"button",onClick:a,children:"Reset filter"})]})};var c,d=n(969);const p=i.Ay.div(c||(c=(0,a.A)(["\n  position: relative;\n  width: 300px;\n  height: 350px;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 10px;\n  text-align: end;\n\n  .item-image {\n    width: 250px;\n    height: auto;\n    display: block;\n  }\n\n  .item-description-wrapper {\n    display: flex;\n    justify-content: space-between;\n    font-size: 20px;\n    margin-bottom: 4px;\n  }\n\n  .item-button {\n    background-color: lightgray;\n    border-radius: 10px;\n    font-size: 16px;\n    padding: 8px 20px;\n  }\n\n  .item-favorite-btn {\n    position: absolute;\n    right: 30px;\n    top: 30px;\n    background-color: transparent;\n    border: transparent;\n    padding: 0;\n    line-height: 0;\n  }\n"])));var h,m,u,x,g=n(43);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function b(e,t){let{title:n,titleId:r,...a}=e;return g.createElement("svg",f({width:24,height:24,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),n?g.createElement("title",{id:r},n):null,h||(h=g.createElement("desc",null,"\r\n\t\t\tCreated with Pixso.\r\n\t")),m||(m=g.createElement("defs",null,g.createElement("clipPath",{id:"clip12_286"},g.createElement("rect",{id:"heart",width:18,height:18,fill:"red",fillOpacity:0})))),u||(u=g.createElement("rect",{id:"heart",width:18,height:18,fill:"red",fillOpacity:0})),x||(x=g.createElement("g",{clipPath:"url(#clip12_286)"},g.createElement("path",{id:"Vector",d:"M14.2915 2.56281C13.7909 2.35538 13.2543 2.24863 12.7125 2.24863C12.1707 2.24863 11.634 2.35538 11.1334 2.56281C10.6328 2.77023 10.178 3.07425 9.79492 3.45749L9 4.2525L8.20496 3.45749C7.43115 2.68372 6.38171 2.24902 5.28748 2.24902C4.19324 2.24902 3.14368 2.68372 2.37 3.45749C1.59619 4.23126 1.1615 5.28073 1.1615 6.375C1.1615 7.46927 1.59619 8.51874 2.37 9.29248L3.16492 10.0875L9 15.9225L14.835 10.0875L15.63 9.29248C16.0132 8.90942 16.3173 8.45462 16.5247 7.95401C16.7321 7.45343 16.8389 6.91687 16.8389 6.375C16.8389 5.83313 16.7321 5.29657 16.5247 4.79599C16.3173 4.29538 16.0132 3.84058 15.63 3.45749C15.2469 3.07425 14.7921 2.77023 14.2915 2.56281Z",stroke:"red",strokeOpacity:.8,strokeWidth:1.5,strokeLinejoin:"round"}))))}const w=g.forwardRef(b);n.p;var y,v,C,j;function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function E(e,t){let{title:n,titleId:r,...a}=e;return g.createElement("svg",k({width:24,height:24,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},a),n?g.createElement("title",{id:r},n):null,y||(y=g.createElement("desc",null,"\r\n\t\t\tCreated with Pixso.\r\n\t")),v||(v=g.createElement("defs",null,g.createElement("clipPath",{id:"clip12_257"},g.createElement("rect",{id:"heart",width:18,height:18,fill:"red",fillOpacity:0})))),C||(C=g.createElement("rect",{id:"heart",width:18,height:18,fill:"red",fillOpacity:0})),j||(j=g.createElement("g",{clipPath:"url(#clip12_257)"},g.createElement("path",{id:"Vector",d:"M15.63 3.45749C15.2469 3.07425 14.7921 2.77023 14.2915 2.56281C13.7909 2.35538 13.2543 2.24863 12.7125 2.24863C12.1707 2.24863 11.634 2.35538 11.1334 2.56281C10.6328 2.77023 10.178 3.07425 9.79492 3.45749L9 4.2525L8.20496 3.45749C7.43115 2.68372 6.38171 2.24902 5.28748 2.24902C4.19324 2.24902 3.14368 2.68372 2.37 3.45749C1.59619 4.23126 1.1615 5.28073 1.1615 6.375C1.1615 7.46927 1.59619 8.51874 2.37 9.29248L3.16492 10.0875L9 15.9225L14.835 10.0875L15.63 9.29248C16.0132 8.90942 16.3173 8.45462 16.5247 7.95401C16.7321 7.45343 16.8389 6.91687 16.8389 6.375C16.8389 5.83313 16.7321 5.29657 16.5247 4.79599C16.3173 4.29538 16.0132 3.84058 15.63 3.45749Z",fill:"red",fillOpacity:1,fillRule:"nonzero"}),g.createElement("path",{id:"Vector",d:"M14.2915 2.56281C13.7909 2.35538 13.2543 2.24863 12.7125 2.24863C12.1707 2.24863 11.634 2.35538 11.1334 2.56281C10.6328 2.77023 10.178 3.07425 9.79492 3.45749L9 4.2525L8.20496 3.45749C7.43115 2.68372 6.38171 2.24902 5.28748 2.24902C4.19324 2.24902 3.14368 2.68372 2.37 3.45749C1.59619 4.23126 1.1615 5.28073 1.1615 6.375C1.1615 7.46927 1.59619 8.51874 2.37 9.29248L3.16492 10.0875L9 15.9225L14.835 10.0875L15.63 9.29248C16.0132 8.90942 16.3173 8.45462 16.5247 7.95401C16.7321 7.45343 16.8389 6.91687 16.8389 6.375C16.8389 5.83313 16.7321 5.29657 16.5247 4.79599C16.3173 4.29538 16.0132 3.84058 15.63 3.45749C15.2469 3.07425 14.7921 2.77023 14.2915 2.56281Z",stroke:"red",strokeOpacity:1,strokeWidth:1.5,strokeLinejoin:"round"}))))}const L=g.forwardRef(E),A=(n.p,e=>{let{medicine:t,addToCart:n,addRemoveFavorite:r}=e;const{image:a,name:i,price:o,favorite:l,_id:c}=t;return(0,s.jsxs)(p,{children:[(0,s.jsx)("img",{src:a,alt:"medicine",className:"item-image"}),(0,s.jsxs)("div",{className:"item-description-wrapper",children:[(0,s.jsx)("p",{children:i}),(0,s.jsxs)("p",{children:["Price: ",o]})]}),(0,s.jsx)("button",{className:"item-favorite-btn",type:"button",onClick:()=>{(0,d.l2)(c,!l),t.favorite=!l,r()},children:l?(0,s.jsx)(L,{}):(0,s.jsx)(w,{})}),(0,s.jsx)("button",{className:"item-button",type:"button",onClick:()=>n(t),children:"Add to cart"})]})});var O;const S=i.Ay.ul(O||(O=(0,a.A)(["\n  display: flex;\n  justify-content: center;\n  gap: 20px 40px;\n  flex-wrap: wrap;\n"]))),F=e=>{let{medicines:t,addToCart:n,addRemoveFavorite:r}=e;return(0,s.jsx)(S,{children:t.map((e=>(0,s.jsx)(A,{medicine:e,addToCart:n,addRemoveFavorite:r},e._id)))})};var _;const N=i.Ay.div(_||(_=(0,a.A)(["\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 20px;\n  overflow: auto;\n  width: 300px;\n  height: 630px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .shops-title {\n    font-size: 18px;\n    margin-bottom: 10px;\n  }\n\n  .shops-select {\n    height: 90%;\n    background-color: white;\n    border-color: transparent;\n    outline: transparent;\n  }\n\n  .shops-select::-webkit-scrollbar {\n    width: 0;\n  }\n\n  .shops-select::-webkit-scrollbar-thumb {\n    width: 0;\n  }\n\n  .shops-option {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 20px;\n    width: 230px;\n    height: 60px;\n    border: 1px solid black;\n    border-radius: 10px;\n    cursor: pointer;\n  }\n\n  .shops-option:not(:last-child) {\n    margin-bottom: 10px;\n  }\n\n  .shops-option:checked {\n    background-color: lightgray;\n  }\n"])));var R=n(508);const P=()=>(0,s.jsx)(R.lM,{visible:!0,height:"150",width:"150",color:"#3470FF",ariaLabel:"triangle-loading",wrapperStyle:{},wrapperClass:""}),z=e=>{let{onSelect:t}=e;const[n,r]=(0,g.useState)([]),[a,i]=(0,g.useState)(!1);(0,g.useEffect)((()=>{(async()=>{i(!0);const e=(e=>{const t=e.map((e=>e.shop)),n={},r=[];for(const a of t)n[a]=!0;for(const a in n)r.push(a);return r})(await(0,d.N7)());r(e),i(!1)})()}),[]);return(0,s.jsxs)(N,{children:[(0,s.jsx)("p",{className:"shops-title",children:"Shops:"}),a?(0,s.jsx)(P,{}):(0,s.jsx)("select",{className:"shops-select",name:"shop",size:"5",onChange:e=>{t(e.target.value)},children:n.map((e=>(0,s.jsx)("option",{className:"shops-option",value:e,children:e},e)))})]})};var Z,B=n(475),I=n(497),M=n(196);const T=i.Ay.main(Z||(Z=(0,a.A)(["\n  display: flex;\n  gap: 20px;\n\n  .home-content-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 1px solid black;\n    width: 1200px;\n    height: 630px;\n    overflow: auto;\n    border-radius: 20px;\n    padding: 20px;\n  }\n"]))),V=()=>{const[e,t]=(0,B.ok)(),[n,r]=(0,g.useState)([]),a=e.get("shop"),[i,o]=(0,g.useState)(!1),[c,p]=(0,g.useState)(!1),[h,m]=(0,g.useState)((()=>{var e;return null!==(e=JSON.parse(window.localStorage.getItem(I.A)))&&void 0!==e?e:[]})),[u,x]=(0,g.useState)(!1);(0,g.useEffect)((()=>{if(!a)return;(async()=>{x(!0);const e=await(0,d.Z_)(a,i,c);r([...e]),x(!1)})()}),[a,i,c]);(0,g.useEffect)((()=>{window.localStorage.setItem(I.A,JSON.stringify(h))}),[h]);return(0,s.jsxs)(T,{children:[(0,s.jsx)(z,{onSelect:e=>{t({shop:e})}}),(0,s.jsx)("div",{className:"home-content-wrapper",children:u?(0,s.jsx)(P,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l,{changeFilter:e=>{switch(e.target.name){case"price":o(!0),p(!1);break;case"date":p(!0),o(!1);break;default:return}},priceFilter:i,dateFilter:c,resetFilter:()=>{p(!1),o(!1)}}),(0,s.jsx)(F,{medicines:n,addToCart:e=>{h.some((t=>t._id===e._id))?(0,M.K)("".concat(e.name," already added to cart")):(m((t=>[...t,{...e,amount:1}])),(0,M.t)("".concat(e.name," added to cart")))},addRemoveFavorite:()=>{r([...n])}})]})})]})}},969:(e,t,n)=>{n.d(t,{l2:()=>s,N7:()=>a,Z_:()=>i,bV:()=>o});var r=n(154);r.A.defaults.baseURL="https://medicine-delivery-app.cyclic.app/";const a=async()=>{try{const{data:e}=await r.A.get("/api/medicines");return e.data}catch(e){console.log(e.message)}},i=async(e,t,n)=>{let a="shop=".concat(e);t&&(a+="&sortByPrice=asc"),n&&(a+="&sortByDate=asc");try{const{data:e}=await r.A.get("/api/medicines/search?".concat(a));return(i=e.data).sort(((e,t)=>e.favorite===t.favorite?0:e.favorite?-1:1)),i}catch(o){console.log(o.message)}var i},o=async e=>{try{const{data:t}=await r.A.post("/api/orders",e);return t.data}catch(t){console.log(t.message)}},s=async(e,t)=>{try{const{data:n}=await r.A.patch("/api/medicines/".concat(e,"/favorite"),{favorite:"".concat(t)});return n.data}catch(n){console.log(n.message)}}},497:(e,t,n)=>{n.d(t,{A:()=>r});const r="medicines"},196:(e,t,n)=>{n.d(t,{K:()=>o,t:()=>i});var r=n(401);n(88);const a={position:"top-center",autoClose:3e3},i=e=>r.oR.success(e,a),o=e=>r.oR.error(e,a)}}]);
//# sourceMappingURL=568.4d741f81.chunk.js.map